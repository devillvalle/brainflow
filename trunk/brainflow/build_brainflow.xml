<?xml version="1.0" encoding="UTF-8"?>
<!-- Written to assume that classpath is rooted in the current directory. --><!-- So this should be OK if you make this script in the root of a filesystem. --><!-- If not, you may prefer to adjust the basedir, or move some directories around. --><!-- The idea is that both Ant and NetBeans have to know what the package root is --><!-- for the classes in your application. -->
<project basedir="../.." default="all" name="brainflow">

    <!-- Don't worry if you don't know the Ant syntax completely or need help on some tasks! -->
    <!-- The standard Ant documentation can be downloaded from AutoUpdate and -->
    <!-- and then you can access the help in menu Help | Help Sets | Ant 1.5.1 Manual. -->

    <target name="init">
        <!-- You can set up any variables you want used throughout the script here. -->
        <property name="jar.dir" value="../jarlib"/>
        <!-- To use e.g. Jikes, uncomment this line. -->
        <!-- (Or make the same change in Tools | Options | Ant Settings | Properties.) -->
        <!-- <propertyID name="build.compiler" value="jikes"/> -->
        <!-- You might like to set up some overridable paths, etc.: -->
        <!-- <propertyID name="mylib" value="../lib/mylib.jar"/> -->
    </target>

    <target depends="init" name="compile">
        <!-- Both srcdir and destdir should be package roots. -->
        <!-- They could be different of course; in that case NetBeans can also be set -->
        <!-- up to compile to a different filesystem in the same way; see Compiler Types: -->
        <javac debug="true" deprecation="true" destdir="." srcdir=".">
            <!-- To add something to the classpath: -->
            <classpath>
                <fileset dir="${jar.dir}">
                    <include name="**/*.jar"/>
                </fileset>
            </classpath>
            <!-- To exclude some files: -->
            <!-- <exclude name="com/foo/SomeFile.java"/><exclude name="com/foo/somepackage/"/> -->
        </javac>
    </target>

    <taskdef name="pack" classname="org.sadun.util.ant.Pack"/>

    <target depends="init,compile" name="pack">
        <pack classes="com.brainflow.application.Brainframe" targetJar="c:/javacode/brainflow.jar"
              manifestMainClass="com.brainflow.application.Brainframe" excludePkg="java,javax,sun,com.sun, com.incors">
            <classpath>
                <pathelement path="."/>
                <pathelement path="c:/javacode/oldcrap"/>
                <fileset dir="${jar.dir}">
                    <include name="**/*.jar"/>
                </fileset>
            </classpath>
            <additionalfileset dir="${basedir}">
                <include name="com/**/*.gif"/>
                <include name="com/brainflow/apps/colormap.properties"/>
                <include name="com/brainflow/apps/resources/*.rgba"/>
            </additionalfileset>


        </pack>
    </target>
    <target depends="init,compile,pack" name="deploy">
        <ftp server="nabokov.nimh.nih.gov" remotedir="/home/buchs/brainflow" userid="buchs" password="xky73728">
            <fileset file="c:/javacode/brainflow.jar"/>
        </ftp>
    </target>

    <target depends="init,compile,pack,deploy" description="Build everything." name="all">
        <echo message="Application built!"/>
    </target>


</project>
